<div class="form-header">
  <h2>Create an account</h2>
  <p>Already got one ? Sign in <strong class="cursor-pointer" [routerLink]="['/auth/login']">here</strong></p>
</div>

<form [formGroup]="form" (ngSubmit)="submitForm()">
  <!-- USERNAME FORM FIELD -->
  <mat-form-field appearance="outline">
    <mat-label>Username</mat-label>
    <input matInput type="text" [formControlName]="controlNames.USERNAME" />

    <mat-error *ngIf="passwordCtrl?.invalid && (passwordCtrl?.dirty || passwordCtrl?.touched)">
      <ng-container *ngIf="passwordCtrl?.hasError('required')">Your username is <strong>required</strong></ng-container>
    </mat-error>

    <mat-icon matSuffix>person</mat-icon>
  </mat-form-field>

  <!-- USERNAME FORM FIELD -->
  <mat-form-field appearance="outline">
    <mat-label>Name</mat-label>
    <input matInput type="text" [formControlName]="controlNames.NAME" placeholder="John Doe" />

    <mat-error *ngIf="nameCtrl?.invalid && (nameCtrl?.dirty || nameCtrl?.touched)">
      <ng-container *ngIf="nameCtrl?.hasError('required')">Your name is <strong>required</strong></ng-container>
    </mat-error>

    <mat-icon matSuffix>person</mat-icon>
  </mat-form-field>

  <!-- EMAIL FORM FIELD -->
  <mat-form-field appearance="outline">
    <mat-label>Email</mat-label>
    <input matInput type="email" [formControlName]="controlNames.EMAIL" placeholder="john.doe@email.com" />

    <mat-error *ngIf="emailCtrl?.invalid && (emailCtrl?.dirty || emailCtrl?.touched)">
      <ng-container *ngIf="emailCtrl?.hasError('email') && !emailCtrl?.hasError('required')">
        Please enter a valid email address
      </ng-container>
      <ng-container *ngIf="emailCtrl?.hasError('required')">Email is <strong>required</strong> </ng-container>
    </mat-error>

    <mat-icon matSuffix>email</mat-icon>
  </mat-form-field>

  <br />

  <!-- PASSWORD FORM FIELD -->
  <mat-form-field appearance="outline">
    <mat-label>Password</mat-label>
    <input matInput type="password" [formControlName]="controlNames.PASSWORD" (input)="onPasswordInput()" />

    <mat-error *ngIf="passwordCtrl?.invalid && (passwordCtrl?.dirty || passwordCtrl?.touched)">
      <ng-container *ngIf="passwordCtrl?.hasError('required')">Password is <strong>required</strong></ng-container>
    </mat-error>

    <mat-icon matSuffix>lock</mat-icon>
  </mat-form-field>

  <!-- PASSWORD CONFIRMATION FORM FIELD -->
  <mat-form-field appearance="outline">
    <mat-label>Password confirmation</mat-label>
    <input
      matInput
      type="password"
      [formControlName]="controlNames.PASSWORD_CONFIRMATION"
      (input)="onPasswordInput()"
    />

    <mat-error *ngIf="passwordConfirmCtrl?.invalid && (passwordConfirmCtrl?.dirty || passwordConfirmCtrl?.touched)">
      <ng-container *ngIf="passwordConfirmCtrl?.hasError('required')"
        >Password confirmation is <strong>required</strong></ng-container
      >
      <ng-container *ngIf="form?.hasError('passwordMismatch')">Password mismatch</ng-container>
    </mat-error>

    <mat-icon matSuffix>lock</mat-icon>
  </mat-form-field>

  <button mat-flat-button color="primary" type="submit" [disabled]="isLoading">Sign up</button>

  <p class="text-danger text-center mt30">{{ errorMessage }}</p>
</form>
